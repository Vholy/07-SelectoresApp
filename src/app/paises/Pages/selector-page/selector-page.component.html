<h1 class="mg-5"> Selectores Anidados</h1>
<hr>

<form [formGroup]="miFormulario" (ngSubmit)="guardar()" >
  <!-- Region -->
  <div class="row">
    <div class="col">
      <label class="form-label" > Contienente</label>
      <select class="form-control" formControlName="region">
        <option value=""> -- Seleccione Contienente -- </option>
        <option *ngFor="let region of regiones" value="{{region|lowercase}}" > {{region}} </option>
      </select>
    </div>
  </div>

  <!-- Pais -->
  <div class="row" *ngIf="miFormulario.controls['region'].value">
    <div class="col">
      <label class="form-label" > Paises</label>
      <select class="form-control" formControlName="pais">
        <option value=""> -- Seleccione pais -- </option>
        <option *ngFor="let pais of paises" value="{{pais.cca3 |lowercase}}" > {{pais.name.common }} </option>
      </select>
    </div>
  </div>

  <!-- Fronteras -->
  <div class="row"*ngIf="miFormulario.controls['pais'].value" >
    <div class="col">
      <label class="form-label" > Fronteras</label>
      <select class="form-control" formControlName="fronteras">
        <option value=""> -- Seleccione pais -- </option>
        <option *ngFor="let frontera of fronteras" value="{{frontera.cca3}}" > {{frontera.name.common}} </option>
      </select>
    </div>
  </div>
<div class="row mt-3" *ngIf="cargando">
  <div class="col">
    <div class="alert alert-primary">
      Cargando...
    </div>
  </div>
</div>


  <div class="row mt-3">
    <div class="col">
      <button class="btn btn-primary float-end " type="submit" >Guardar</button>
    </div>
  </div>

</form>

<h3>Formulario</h3>
<pre> Valid: {{miFormulario.valid}} </pre>
<pre> Value: {{miFormulario.value | json}} </pre>
